import{r as m,j as e,y as r}from"./app-BV5JBiLm.js";import{a as h}from"./axiosClient-B2D__FuD.js";import{P as p}from"./PageHeader-CkRZRRRX.js";import{A as g}from"./AuthenticatedLayout-vhvuIAHI.js";import{R as u,C as n}from"./Card-CbhU03nD.js";import{B as f}from"./Badge-BWGbrrzi.js";import"./ThemeProvider-eU08k4HY.js";function C({retailers:o}){const[i,c]=m.useState(o),l=async t=>{if(confirm("Are you sure you want to delete this Retailer ?"))try{const s=await h.delete(`/admin/retailer/${t}`);s.data.status==!0&&(r.success(s.data.message),c(i.filter(a=>a.id!==t))),r.error(s.data.message)}catch(s){console.log(s),r.error(response.data.message)}},x=async t=>{var s,a;if(confirm("Are you sure, you want to approved this retailer ?"))try{const d=await h.get(`/admin/retailer/status-update/${t}`);d.data.status?(r.success(d.data.message),c(i.filter(j=>j.id!==t))):r.error(d.data.message||"Something went wrong")}catch(d){console.log(d),r.error(((a=(s=d.response)==null?void 0:s.data)==null?void 0:a.message)||"Something went wrong")}};return e.jsxs(g,{children:[e.jsx(p,{title:"Pending Retailers",menu:"Retailers"}),e.jsx(u,{children:e.jsxs(n,{children:[e.jsx(n.Header,{children:" Retailer List"}),e.jsx(n.Body,{children:e.jsxs("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sno"}),e.jsx("th",{children:"Retailer Name"}),e.jsx("th",{children:"Retailer Phone"}),e.jsx("th",{children:"Retailer Email"}),e.jsx("th",{children:"Prof Image"}),e.jsx("th",{children:"Address "}),e.jsx("th",{children:"City "}),e.jsx("th",{children:"State "}),e.jsx("th",{children:"Pincode "}),e.jsx("th",{children:"Shop Image "}),e.jsx("th",{children:"Reg. Certificate "}),e.jsx("th",{children:"Pan Card "}),e.jsx("th",{children:"Aadhaar Card "}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:i.map((t,s)=>{var a;return e.jsxs("tr",{children:[e.jsx("td",{children:s+1}),e.jsx("td",{children:t.name}),e.jsx("td",{children:(a=t.user)==null?void 0:a.phone}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.profile_picture&&e.jsx("img",{src:`upload/${t.profile_picture}`,alt:t.name,width:"100",height:"100"})}),e.jsx("td",{children:t.address}),e.jsx("td",{children:t.city}),e.jsx("td",{children:t.state}),e.jsx("td",{children:t.pincode}),e.jsx("td",{children:t.shop_image&&e.jsx("img",{src:`upload/${t.shop_image}`,alt:"Shop Image",width:"100",height:"100"})}),e.jsx("td",{children:t.registration_certificate&&e.jsx("img",{src:`http://localhost:8000${t.registration_certificate}`,alt:"Reg. certificate",width:"100",height:"100"})}),e.jsx("td",{children:t.pan_card&&e.jsx("img",{src:`upload/${t.pan_card}`,alt:"Pan card",width:"100",height:"100"})}),e.jsx("td",{children:t.aadhaar_card&&e.jsx("img",{src:`upload/${t.aadhaar_card}`,alt:"Aadhaar card",width:"100",height:"100"})}),e.jsx("td",{children:e.jsx(f,{pill:!0,bg:t.status?"success":"secondary",style:{cursor:"pointer"},onClick:()=>x(t.id),children:t.status?"Approved":"Pending"})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>l(t.id),children:"Delete"})})]},t.id)})})]})})]})})]})}export{C as default};
