import{r,j as s,y as o}from"./app-CHY2S7fB.js";import{a as m}from"./axiosClient-CCDOYYJu.js";import{P as w}from"./PageHeader-BSMlnyHq.js";import{A as b}from"./AuthenticatedLayout-DLPlBDuW.js";import{R as y,C as h}from"./Card-BZedgk2Q.js";import{B as C}from"./Badge-BEaglMbv.js";import"./ThemeProvider-CUgW6t52.js";function v({retailers:u}){const[i,l]=r.useState(u),[x,d]=r.useState(!1),[j,c]=r.useState(""),p=async e=>{if(confirm("Are you sure you want to delete this Retailer ?"))try{const t=await m.delete(`/admin/retailer/${e}`);t.data.status==!0&&(o.success(t.data.message),l(i.filter(a=>a.id!==e))),o.error(t.data.message)}catch(t){console.log(t),o.error(response.data.message)}},g=async e=>{var t,a;if(confirm("Are you sure, you want to approved this retailer ?"))try{const n=await m.get(`/admin/retailer/status-update/${e}`);n.data.status?(o.success(n.data.message),l(i.filter(f=>f.id!==e))):o.error(n.data.message||"Something went wrong")}catch(n){console.log(n),o.error(((a=(t=n.response)==null?void 0:t.data)==null?void 0:a.message)||"Something went wrong")}};return s.jsxs(b,{children:[s.jsx(w,{title:"Pending Retailers",menu:"Retailers"}),s.jsx(y,{children:s.jsxs(h,{children:[s.jsx(h.Header,{children:" Retailer List"}),s.jsxs(h.Body,{children:[s.jsxs("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Sno"}),s.jsx("th",{children:"Retailer Name"}),s.jsx("th",{children:"Retailer Phone"}),s.jsx("th",{children:"Retailer Email"}),s.jsx("th",{children:"Prof Image"}),s.jsx("th",{children:"Address "}),s.jsx("th",{children:"City "}),s.jsx("th",{children:"State "}),s.jsx("th",{children:"Pincode "}),s.jsx("th",{children:"Shop Image "}),s.jsx("th",{children:"Reg. Certificate "}),s.jsx("th",{children:"Pan Card "}),s.jsx("th",{children:"Aadhaar Card "}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Action"})]})}),s.jsx("tbody",{children:i.map((e,t)=>{var a;return s.jsxs("tr",{children:[s.jsx("td",{children:t+1}),s.jsx("td",{children:e.name}),s.jsx("td",{children:(a=e.user)==null?void 0:a.phone}),s.jsx("td",{children:e.email}),s.jsx("td",{children:(e==null?void 0:e.profile_picture)&&s.jsx("img",{src:e.profile_picture,alt:"profile_picture",width:100,height:100,className:"cursor-pointer rounded shadow",onClick:()=>{d(!0),c(e.profile_picture)}})}),s.jsx("td",{children:e.address}),s.jsx("td",{children:e.city}),s.jsx("td",{children:e.state}),s.jsx("td",{children:e.pincode}),s.jsx("td",{children:(e==null?void 0:e.shop_image)&&s.jsx("img",{src:e.shop_image,alt:"shop image",width:100,height:100,className:"cursor-pointer rounded shadow",onClick:()=>{d(!0),c(e.shop_image)}})}),s.jsx("td",{children:(e==null?void 0:e.registration_certificate)&&s.jsx("img",{src:e.registration_certificate,alt:"thumbnail",width:100,height:100,className:"cursor-pointer rounded shadow",onClick:()=>{d(!0),c(e.registration_certificate)}})}),s.jsx("td",{children:(e==null?void 0:e.pan_card)&&s.jsx("img",{src:e.pan_card,alt:"pan_card",width:100,height:100,className:"cursor-pointer rounded shadow",onClick:()=>{d(!0),c(e.pan_card)}})}),s.jsx("td",{children:(e==null?void 0:e.aadhaar_card)&&s.jsx("img",{src:e.aadhaar_card,alt:"aadhaar_card",width:100,height:100,className:"cursor-pointer rounded shadow",onClick:()=>{d(!0),c(e.aadhaar_card)}})}),s.jsx("td",{children:s.jsx(C,{pill:!0,bg:e.status?"success":"secondary",style:{cursor:"pointer"},onClick:()=>g(e.id),children:e.status?"Approved":"Pending"})}),s.jsx("td",{children:s.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>p(e.id),children:"Delete"})})]},e.id)})})]}),x&&s.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.8)"},onClick:()=>d(!1),children:s.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",onClick:e=>e.stopPropagation(),children:s.jsxs("div",{className:"modal-content bg-transparent border-0 shadow-none",children:[s.jsx("img",{src:j,alt:"full",className:"img-fluid rounded"}),s.jsx("button",{type:"button",className:"btn-close btn-close-white position-absolute top-0 end-0 m-3",onClick:()=>d(!1)})]})})})]})]})})]})}export{v as default};
