import{r as l,j as e,L as g,y as h}from"./app-DMl1KjAW.js";import{a as v}from"./axiosClient-BDmtC2-U.js";import{P as f}from"./PageHeader-BwZ4Rrml.js";import{A as y}from"./AuthenticatedLayout-DU2jpzbD.js";import{R as C,C as o}from"./Card-Dl0xIcsR.js";import{C as p}from"./Col-D2MYkrOR.js";import{F as a,B as x}from"./Form-BcTK-NdH.js";import"./ThemeProvider-BfoJM0QL.js";function G({coupons:j}){const[N,L]=l.useState(j);let c=!1;const[n,d]=l.useState({}),[s,i]=l.useState({is_category:!1,category_id:"",name:"",title:"",code:"",amount:"",discount_type:"",is_all:!0,user_id:"",discount_on:"",is_minimun:"",order_value:"",is_expiry:"",expiry_date:"",is_limit:"",limit:"",is_active:!0}),b=async t=>{var m,u;if(t.preventDefault(),!!_()){console.log(s);try{let r;console.log(s),c||(r=await v.post("/admin/base-unit",s)),h.success(r.data.message),c||(setBaseUnitList([...baseUnitList,r.data.data]),i({name:"",base_unit:"",is_active:"",unit_type_id:""}))}catch(r){h.error(((u=(m=r.response)==null?void 0:m.data)==null?void 0:u.message)||"Something went wrong"),r.response?(console.error("Error response:",r.response.data),d(r.response.data.errors||{})):console.error("Unexpected error:",r.message)}}};function _(){let t={};return s.code||(t.code="Coupan code is required"),s.discount_type||(t.discount_type="Discount type is required"),s.amount||(t.amount="Discount amount is required"),d(t),t}return e.jsxs(y,{children:[e.jsx(f,{title:"Coupan",menu:"Offer & Discount"}),e.jsxs(C,{children:[e.jsx(p,{sm:5,children:e.jsxs(o,{children:[e.jsxs(o.Header,{children:[" ","Add New"," Coupan"]}),e.jsx(o.Body,{children:e.jsxs(a,{onSubmit:b,children:[e.jsxs(a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[e.jsx(a.Label,{children:"Name"}),e.jsx(a.Control,{type:"text",name:"name",value:s.name||"",placeholder:"",onChange:t=>i({...s,name:t.target.value})}),n.name&&e.jsx("div",{className:"text-danger",children:n.name})]}),e.jsxs(a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[e.jsx(a.Label,{children:"Title"}),e.jsx(a.Control,{type:"text",name:"name",value:s.name||"",placeholder:"",onChange:t=>i({...s,name:t.target.value})}),n.name&&e.jsx("div",{className:"text-danger",children:n.name})]}),e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Discount type"}),e.jsx(a.Select,{"aria-label":"Default select example",name:"category_id",value:s.unit_type_id||"",onChange:t=>i({...s,unit_type_id:t.target.value}),children:e.jsx("option",{value:"",children:"Choose..."})}),n.unit_type_id&&e.jsx("div",{className:"text-danger",children:n.unit_type_id})]}),e.jsxs(a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[e.jsx(a.Label,{children:"Discount"}),e.jsx(a.Control,{type:"text",name:"name",value:s.name||"",placeholder:"",onChange:t=>i({...s,name:t.target.value})}),n.name&&e.jsx("div",{className:"text-danger",children:n.name})]}),e.jsxs(a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[e.jsx(a.Label,{children:"Limit"}),e.jsx(a.Control,{type:"text",name:"base_unit",value:s.base_unit||"",placeholder:"",onChange:t=>i({...s,base_unit:t.target.value})}),n.base_unit&&e.jsx("div",{className:"text-danger",children:n.base_unit})]}),e.jsx(a.Check,{className:"mb-5",type:"switch",id:"custom-switch",label:"Is Active",checked:s.is_active,onChange:t=>i({...s,is_active:t.target.checked})}),e.jsx(x,{type:"submit",variant:"success",className:"btn-sm waves-effect waves-light mb-3",children:"Create"}),e.jsxs(g,{href:"/admin/unit-type",children:[" ",e.jsx(x,{type:"button",variant:"danger",className:"btn btn-sm waves-effect waves-light  mb-3",children:" Cancel"})]})]})})]})}),e.jsx(p,{sm:7,children:e.jsxs(o,{children:[e.jsx(o.Header,{children:" Coupan List"}),e.jsx(o.Body,{children:e.jsx("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sno"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Discount Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Action"})]})})})})]})})]})]})}export{G as default};
