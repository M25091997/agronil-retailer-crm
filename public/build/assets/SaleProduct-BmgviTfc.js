import{r as m,j as s,y as c}from"./app-DZz_DF51.js";import{a as g}from"./axiosClient-BoyTxGKA.js";import{C as b}from"./CardHeader-CMDTO7FM.js";import{P as f}from"./PageHeader-DnNU-AHW.js";import{A as u}from"./AuthenticatedLayout-BvoWsP3O.js";import{B as y}from"./Badge-COiRf1S8.js";import"./plus-DLUPRUL4.js";import"./ThemeProvider-DUMPLo0h.js";function A({products:h}){const[i,o]=m.useState(h),x=async(e,t,r)=>{var d,l,n;try{const a=await g.put(`/admin/manage/update-status/${r}`,{[e]:!t});a.data.status&&(c.success((d=a.data)==null?void 0:d.message),o(i.filter(j=>j.id!==r)))}catch(a){c.error(((n=(l=a.response)==null?void 0:l.data)==null?void 0:n.message)||"Something went wrong"),console.error("Error response:",a.response.data)}};return s.jsxs(u,{children:[s.jsx(f,{title:"Sale Product On Sale",menu:"Product"}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"card",children:[s.jsx(b,{title:"Product List",url:"#"}),s.jsx("div",{className:"card-body",children:s.jsxs("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Sno"}),s.jsx("th",{children:"SKU"}),s.jsx("th",{children:"Product Name"}),s.jsx("th",{children:"Image"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Category "}),s.jsx("th",{children:"Brand "}),s.jsx("th",{children:"Diseases "}),s.jsx("th",{children:"HSN Code "}),s.jsx("th",{children:"Sale"})]})}),s.jsx("tbody",{children:i.map((e,t)=>s.jsxs("tr",{children:[s.jsx("td",{children:t+1}),s.jsx("td",{children:e.sku}),s.jsx("td",{children:e.name}),s.jsx("td",{children:e.images[0]&&s.jsx("img",{src:e.images[0].image_path,alt:e.name,width:"100",height:"100"})}),s.jsxs("td",{children:[" ",s.jsx(y,{bg:e.is_active?"success":"secondary",children:e.is_active?"Active":"Disabled"})]}),s.jsxs("td",{children:[e.category,"/",e.sub_category]}),s.jsx("td",{children:e.brand}),s.jsx("td",{children:e.disease}),s.jsx("td",{children:e.hsn_code}),s.jsx("td",{children:s.jsxs("div",{className:"square-switch",children:[s.jsx("input",{type:"checkbox",id:`is_sale${e.id}`,switch:"bool",onChange:()=>x("is_sale",e.is_sale,e.id),checked:e.is_sale}),s.jsx("label",{htmlFor:`is_sale${e.id}`,"data-on-label":"Yes","data-off-label":"No"})]})})]},e.id))})]})})]})})})]})}export{A as default};
