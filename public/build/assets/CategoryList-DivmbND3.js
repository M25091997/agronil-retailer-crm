import{r as n,j as e,L as l,y as c}from"./app-D0IB18SU.js";import{A as o}from"./AuthenticatedLayout-DkhqQJWC.js";import{a as h}from"./axiosClient-TjsMXgSu.js";import{P as m}from"./PageHeader-BI9g6Sui.js";import{C as x}from"./CardHeader-D2YKIoXE.js";import"./plus-iGCqt9oy.js";function y({categories:i}){const[s,a]=n.useState(i),d=async t=>{if(confirm("Are you sure you want to delete this category?"))try{await h.delete(`/admin/categories/${t}`),c.success("Category deleted successfully"),a(s.filter(r=>r.id!==t))}catch(r){console.error("Delete error:",r),alert("Failed to delete category.")}};return e.jsxs(o,{children:[e.jsx(m,{title:"Category",menu:"Product"}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("div",{className:"card",children:e.jsx(x,{title:"Category List",btnName:"Add Category",url:"/admin/categories/create"})}),e.jsx("div",{className:"card-body",children:e.jsxs("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sno"}),e.jsx("th",{children:"Category Name"}),e.jsx("th",{children:"Icon"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.image&&e.jsx("img",{src:`/${t.image}`,alt:t.name,width:"100",height:"100"})}),e.jsx("td",{children:t.description}),e.jsx("td",{children:new Date(t.created_at).toLocaleDateString()}),e.jsxs("td",{children:[e.jsx(l,{href:`/admin/categories/${t.id}/edit`,children:e.jsx("button",{className:"btn btn-sm btn-primary me-1",children:"Edit"})}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>d(t.id),children:"Delete"})]})]},t.id))})]})})]})})]})}export{y as default};
