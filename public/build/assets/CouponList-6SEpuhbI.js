import{r as x,j as e,L as j,y as a}from"./app-BV5JBiLm.js";import{A as m}from"./AuthenticatedLayout-vhvuIAHI.js";import{a as u}from"./axiosClient-B2D__FuD.js";import{P as b}from"./PageHeader-CkRZRRRX.js";import{C as f}from"./CardHeader-B11tMr4w.js";import{R as p,C as y}from"./Card-CbhU03nD.js";import{B as C}from"./Badge-BWGbrrzi.js";import"./plus-BqzSZBSa.js";import"./ThemeProvider-eU08k4HY.js";function O({coupons:l}){const[r,c]=x.useState(l);console.log(r);const h=async t=>{var s,d,n;if(confirm("Are you sure you want to delete this discount code?"))try{const i=await u.delete(`/admin/discount/coupons/${t}`);i.data.status&&(c(r.filter(o=>o.id!==t)),a.success((s=i==null?void 0:i.data)==null?void 0:s.message))}catch(i){console.error("Delete error:",i),a.error(((n=(d=i.response)==null?void 0:d.data)==null?void 0:n.message)||"Failed to delete")}};return e.jsxs(m,{children:[e.jsx(b,{title:"Added Coupon",menu:"Offer & Discount"}),e.jsx(p,{children:e.jsxs(y,{children:[e.jsx(f,{title:"Coupon List",btnName:"Add Coupon",url:"/admin/discount/coupons/create"}),e.jsxs("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Coupon"}),e.jsx("th",{children:"Discount Type"}),e.jsx("th",{children:"Discount"}),e.jsx("th",{children:"Discount On"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Min Order"}),e.jsx("th",{children:"Expire"}),e.jsx("th",{children:"Limit"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:r.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.title}),e.jsx("td",{children:t.code}),e.jsx("td",{children:t.discount_type}),e.jsx("td",{children:t.amount}),e.jsx("td",{children:t.discount_on}),e.jsx("td",{children:t.is_all}),e.jsx("td",{children:t.order_value}),e.jsx("td",{children:t.expiry_date}),e.jsx("td",{children:t.limit}),e.jsxs("td",{children:[" ",e.jsx(C,{bg:t.is_active?"success":"secondary",children:t.is_active?"Active":"Disabled"})]}),e.jsxs("td",{children:[e.jsx(j,{href:`/admin/discount/coupons/${t.id}/edit`,children:e.jsx("button",{className:"btn btn-sm btn-primary me-1",children:"Edit"})}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>h(t.id),children:"Delete"})]})]},t.id))})]})]})})]})}export{O as default};
