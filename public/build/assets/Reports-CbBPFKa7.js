import{r as d,j as e}from"./app-BV5JBiLm.js";import{a as p}from"./axiosClient-B2D__FuD.js";import{P as R}from"./PageHeader-CkRZRRRX.js";import{c as T,A as E}from"./AuthenticatedLayout-vhvuIAHI.js";import{R as b,C as o}from"./Card-CbhU03nD.js";import{F as a,B as F}from"./Form-Ci1Ud1AT.js";import{C as l}from"./Col-P9ErBZdk.js";import"./ThemeProvider-eU08k4HY.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O=T("funnel",H);function Q({categories:g}){const[i,n]=d.useState({category_id:"",sub_category_id:"",brand_id:"",disease_id:""}),[S,f]=d.useState([]),[_,C]=d.useState([]),[y,v]=d.useState([]),[I,N]=d.useState([]),[L,G]=d.useState(0),[w,A]=d.useState(0),B=async s=>{const t=s.target.value;n(r=>({...r,category_id:t,sub_category_id:"",brand_id:"",disease_id:""}));try{const r=await p.get(`/admin/category/dependencies/${t}`);f(r.data.subcategories),C(r.data.brands),v(r.data.diseases)}catch(r){console.error("Error loading dependencies:",r)}},D=async s=>{s.preventDefault();try{const t=await p.post("admin/orders/reports",i);t.data.status&&(console.log(t.data.orders),N(t.data.orders),A(t.data.total_sales),G(t.data.total_items))}catch(t){console.error("Error on submit:",t)}};return e.jsxs(E,{children:[e.jsx(R,{title:"Sales Reports",menu:"Order"}),e.jsxs(b,{children:[e.jsxs(o,{children:[e.jsx(o.Header,{children:"Search Order"}),e.jsx(o.Body,{children:e.jsxs(a,{onSubmit:D,children:[e.jsxs(b,{className:"mb-3",children:[e.jsxs(a.Group,{as:l,controlId:"formGridState",children:[e.jsx(a.Label,{children:"Select Category"}),e.jsxs(a.Select,{defaultValue:"Choose...",onChange:B,children:[e.jsx("option",{value:"",children:"Choose..."}),g.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs(a.Group,{as:l,controlId:"formGridState",children:[e.jsx(a.Label,{children:"Select Sub Category"}),e.jsxs(a.Select,{defaultValue:"Choose...",onChange:s=>n({...i,sub_category_id:s.target.value}),children:[e.jsx("option",{value:"",children:"Choose..."}),S.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs(a.Group,{as:l,controlId:"formGridZip",children:[e.jsx(a.Label,{children:"Select Brands"}),e.jsxs(a.Select,{defaultValue:"Choose...",onChange:s=>n({...i,brand_id:s.target.value}),children:[e.jsx("option",{value:"",children:"Choose..."}),_.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs(a.Group,{as:l,controlId:"formGridZip",children:[e.jsx(a.Label,{children:"Select Diseases"}),e.jsxs(a.Select,{defaultValue:"Choose...",onChange:s=>n({...i,disease_id:s.target.value}),children:[e.jsx("option",{value:"",children:"Choose..."}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs(F,{variant:"success",type:"submit",className:"btn-sm float-end",children:[e.jsx(O,{size:16}),"  Search"]})]})})]}),e.jsxs(o,{children:[e.jsx(o.Header,{children:" Report List"}),e.jsxs(o.Body,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-success",children:["Total Sales: â‚¹ ",w]})," ",e.jsx("br",{}),e.jsxs("label",{className:"text-danger",children:["Total Item: ",L," "]})]}),e.jsxs("table",{id:"datatable-buttons",className:"table table-bordered dt-responsive nowrap w-100",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Order Id"}),e.jsx("th",{children:"Invoice Id"}),e.jsx("th",{children:"Seller Name"}),e.jsx("th",{children:"Phone Numbar"}),e.jsx("th",{children:"Product Name"}),e.jsx("th",{children:"SKU"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{children:I.map(s=>{var t,r,c,h,x,u,j,m;return e.jsxs("tr",{children:[e.jsx("td",{children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{children:s.order_id}),e.jsx("td",{children:(t=s.order)==null?void 0:t.invoice_no}),e.jsx("td",{children:(c=(r=s.order)==null?void 0:r.user)==null?void 0:c.name}),e.jsx("td",{children:(x=(h=s.order)==null?void 0:h.user)==null?void 0:x.phone}),e.jsxs("td",{children:[e.jsx("img",{src:(u=s.product_details)==null?void 0:u.image,alt:"product image",className:"img-thumbnail fit-cover border p-1",width:"100",height:"100"}),e.jsxs("a",{href:"#",className:"text-body",children:[" ",(j=s.product_details)==null?void 0:j.name]})]}),e.jsx("td",{children:(m=s.product_details)==null?void 0:m.sku}),e.jsx("td",{children:s.quantity}),e.jsx("td",{children:s.price}),e.jsx("td",{children:s.total})]},s.id)})})]})]})]})]})]})}export{Q as default};
